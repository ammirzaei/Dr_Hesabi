@using Dr_Hesabi.Classes.Class
@model Dr_Hesabi.DataLayers.Entity.Tests

@{
    ViewData["Title"] = "ویرایش آزمون";
    Layout = "_TeacherLayout";
}
<h2>ویرایش آزمون</h2>
@section Styles
{
    <link href="~/Admin/Css/kendo.common.min.css" rel="stylesheet" />
    <link href="~/Admin/Css/kendo.default.min.css" rel="stylesheet" />
    <script src="~/Public/Js/jquery-1.10.2.min.js"></script>
}
<hr />
<div class="row">
    <div class="col-md-10">
        <form asp-action="Edit">
            <div asp-validation-summary="ModelOnly" class="text-danger"></div>
            <input type="hidden" asp-for="UserID" />
            <input type="hidden" asp-for="TestID" />
            <input type="hidden" asp-for="IsDeleted" />
            <input type="hidden" asp-for="EndDateTime" value="@DateTime.Now" />
            <div class="form-group">
                <label asp-for="Title" class="control-label"></label>
                <input asp-for="Title" class="form-control" />
                <span asp-validation-for="Title" class="text-danger"></span>
            </div>
            <div class="form-group">
                <label asp-for="Description" class="control-label"></label>
                <textarea asp-for="Description" class="form-control"></textarea>
                <span asp-validation-for="Description" class="text-danger"></span>
            </div>
            <div class="form-group">
                <label class="control-label">شماره کلاس های مجاز</label>
                <div class="Roles">
                    @{
                        List<int> Classes = ViewData["Classes"] as List<int>;
                    }
                    <div class="checkbox">
                        <label>
                            <input checked="@Classes.Any(s=>s==102)" type="checkbox" name="Classes" value="102" /><span> 102 </span>
                        </label>
                        <label>
                            <input checked="@Classes.Any(s=>s==103)" type="checkbox" name="Classes" value="103" /><span> 103 </span>
                        </label>
                        <label>
                            <input checked="@Classes.Any(s=>s==104)" type="checkbox" name="Classes" value="104" /><span> 104 </span>
                        </label>
                        <label>
                            <input checked="@Classes.Any(s=>s==112)" type="checkbox" name="Classes" value="112" /><span> 112 </span>
                        </label>
                        <label>
                            <input checked="@Classes.Any(s=>s==113)" type="checkbox" name="Classes" value="113" /><span> 113 </span>
                        </label>
                        <label>
                            <input checked="@Classes.Any(s=>s==114)" type="checkbox" name="Classes" value="114" /><span> 114 </span>
                        </label>
                        <label>
                            <input checked="@Classes.Any(s=>s==122)" type="checkbox" name="Classes" value="122" /><span> 122 </span>
                        </label>
                        <label>
                            <input checked="@Classes.Any(s=>s==123)" type="checkbox" name="Classes" value="123" /><span> 123 </span>
                        </label>
                        <label>
                            <input checked="@Classes.Any(s=>s==124)" type="checkbox" name="Classes" value="124" /><span> 124 </span>
                        </label>
                    </div>
                </div>
                @if (ViewBag.ErrorClasses == true)
                {
                    <span class="text-danger">لطفا شماره کلاس های مجاز را انتخاب کنید</span>
                }
            </div>
            <div class="form-group">
                <label asp-for="StartDateTime" class="control-label"></label>
                <input id="StartDateTime" name="StartDateTime" value="@Model.StartDateTime.ToDate()" />
                <span asp-validation-for="StartDateTime" class="text-danger"></span>
            </div>
            <div class="form-group">
                <label class="control-label">زمان شروع</label>
                <input name="StartTime" id="StartTime" value="@Model.StartDateTime.ToTime()" />
                <span class="text-danger"></span>
            </div>
            <div class="form-group">
                <label class="control-label">زمان پایان</label>
                <input name="EndTime" id="EndTime" value="@Model.EndDateTime.ToTime()" />
                <span class="text-danger"></span>
            </div>
            <div class="form-group">
                <label class="checkbox">
                    <input asp-for="IsActive" /> @Html.DisplayNameFor(model => model.IsActive)
                </label>
            </div>
            <div class="form-group">
                <label class="checkbox">
                    <input asp-for="IsNegative" /> @Html.DisplayNameFor(model => model.IsNegative)
                    <label class="description">
                        <i class="mdi mdi-information-outline"></i>
                        <span>آیا سوالات این آزمون نمره منفی داشته باشد یا خیر.</span>
                    </label>
                </label>
            </div>
            <div class="form-group">
                <label class="checkbox">
                    <input asp-for="IsRandom" /> @Html.DisplayNameFor(model => model.IsRandom)
                    <label class="description">
                        <i class="mdi mdi-information-outline"></i>
                        <span>آیا سوالات و گزینه های آن برای هر نفر بصورت تصادفی نشان داده شود یا خیر.</span>
                    </label>
                </label>
            </div>
            <div class="form-group">
                <label class="checkbox">
                    <input asp-for="IsUltimate" /> @Html.DisplayNameFor(model => model.IsUltimate)
                    <label class="description">
                        <i class="mdi mdi-information-outline"></i>
                        <span>آیا پس از پایان آزمون، شرکت کنندگان بتوانند گزارشی از نمره خود بگیرند یا خیر.</span>
                    </label>
                </label>
            </div>
            <div class="form-group">
                <input type="submit" value="ذخیره" class="btn btn-success" /> |
                <a asp-action="Index" class="btn btn-info">برگشت</a>
            </div>
        </form>
    </div>
</div>
@section Scripts
{
    <script src="~/Admin/Js/JalaliDate.js"></script>
    <script src="~/Admin/Js/kendo.web.js"></script>
    <script src="~/Admin/Js/fa-IR.js"></script>
    <script src="~/Admin/Js/DatePicker.js"></script>
}